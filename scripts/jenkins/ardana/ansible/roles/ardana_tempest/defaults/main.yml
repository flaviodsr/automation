#
# (c) Copyright 2018 SUSE LLC
#
# Licensed under the Apache License, Version 2.0 (the "License"); you may
# not use this file except in compliance with the License. You may obtain
# a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.
#
---

ardana_scratch_path: "~/scratch/ansible/next/ardana/ansible"

tempest_run_filter: smoke
tempest_retry_failed: False
tempest_run_concurrency: 8
tempest_results_log: "/opt/stack/tempest/logs/testr_results_region1.log"
tempest_results_subunit: "/opt/stack/tempest/logs/testrepository_region1.subunit"

tempest_qe_run_filters:
  - smoke
  - keystone
  - glance
  - glance_serial
  - neutron
  - neutron_serial
  - nova
  - nova_serial
  - cinder
  - cinder_serial
  - swift
  - heat
  - barbican
  - magnum
  - monasca
  - designate
  - lbaas
  - fwaas
  - vpnaas

tempest_config:
  - section: auth
    option: tempest_roles
    value: "key-manager:admin, cinder_admin, glance_admin, Member"
  - section: network-feature-enabled
    option: api_extensions
    value: "address-scope, agent, allowed-address-pairs, auto-allocated-topology, availability_zone, binding, binding-extended, default-subnetpools, dhcp_agent_scheduler, dns-domain-ports, dns-integration, dvr, empty-string-filtering, ext-gw-mode, external-net, extra_dhcp_opt, extraroute, fip-port-details, flavors, fwaas, fwaasrouterinsertion, hm_max_retries_down, ip-substring-filtering, l3-flavors, l3-ha, l3_agent_scheduler, l7, lbaas_agent_schedulerv2, lbaasv2, lb-graph, multi-provider, net-mtu, net-mtu-writable, network-ip-availability, network_availability_zone, pagination, project-id, provider, quotas, quota_details, rbac-policies, revision-if-match, router, router_availability_zone, security-group, port-mac-address-regenerate, port-security-groups-filtering, service-type, shared_pools, sorting, standard-attr-description, standard-attr-revisions, standard-attr-timestamp, standard-attr-tag, subnet_allocation, subnet-service-types, tag, tag-ext, vpnaas, vpn-endpoint-groups, vpn-flavors"
  - section: neutron_plugin_options
    option: agent_availability_zone
    value: nova
  - section: neutron_plugin_options
    option: available_type_drivers
    value: "local, flat, vlan, gre, vxlan"
  - section: neutron_plugin_options
    option: l3_agent_mode
    value: dvr_snat
  - section: compute-feature-enabled
    option: volume_backed_live_migration
    value: true
  - section: volume
    option: max_microversion
    value: latest
  - section: volume
    option: manage_snapshot_ref
    value: "source-name,snapshot-%s"
  - section: volume-feature-enabled
    option: manage_snapshot
    value: true
  - section: volume-feature-enabled
    option: manage_volume
    value: true
  - section: volume-feature-enabled
    option: volume_revert
    value: true
  - section: heat_plugin
    option: boot_config_env
    value: "/usr/lib/python2.7/site-packages/heat_tempest_plugin/tests/scenario/templates/boot_config_none_env.yaml"
  - section: heat_plugin
    option: image_ref
    value: cirros_alt
  - section: heat_plugin
    option: floating_network_name
    value: ext-net
  - section: heat_plugin
    option: skip_scenario_tests
    value: false
  - section: heat_plugin
    option: skip_functional_test_list
    value: ""
  - section: auth
    option: admin_project_name
    value: cloud_admin_project

subunit_tools_venv: "/var/lib/ardana/subunit-tools-venv"

defcore_tests_url: "https://refstack.openstack.org/api/v1/guidelines/2018.11/tests"
defcore_refstackclient_git_url: "https://github.com/openstack/refstack-client.git"
defcore_refstack_url: "https://10.86.0.98"
defcore_results: "~/refstack_results.subunit"
subunit_html_results: "~/testr_results_region1.html"
subunit_xml_results: "~/testr_results_region1.xml"

octavia_amphora_image_rpm: "find /srv/www/*/x86_64/repos/*/ -name '*octavia-amphora-image*' | tail -n1"
